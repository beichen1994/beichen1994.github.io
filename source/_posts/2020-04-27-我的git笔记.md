---
title: 我的git笔记
date: 2020-04-27 14:55:44
tags:
- git
categories:
- Computer
---

一开始我对git还是比较抵触，学习成本较高，因为不懂所以不知其便利。但终究还是没有忍住git对我的诱惑，便尝试了起来。我是按照[廖雪峰的git课程](https://www.liaoxuefeng.com/wiki/896043488029600)进行学习的。目前我也只能算是入门，还远没有达到精通的地步。现将git的学习笔记进行一下整理。

![Jf31Gq.jpg](https://s1.ax1x.com/2020/04/27/Jf31Gq.jpg)

* git初始配置

~~~
ssh -T git@github.com
git remote -v

git config --global user.name "beichen1994"

git config --global user.email "1768229565@qq.com"

git config --list

ssh-keygen
~~~

* 创建git仓库
~~~
mkdir learngit
cd learngit
git init
~~~

* 将修改添加到暂存区，提交到Master分支

~~~
编写 file1.txt file2.txt file3.txt

git add file1.txt
git add file2.txt file3.txt
git commit -m "update"
~~~

~~~
继续修改 file1.txt
git status 查看仓库状态 
git diff file1.txt 查看修改内容

git add file1.txt
git commit -m "update"
git status 查看仓库状态
~~~

* 版本回退

~~~
继续修改file1.txt
git add file1.txt
git commit -m "udpate"
git log
查看提交过程，目前file1.txt一共进行了三次提交，也就是有三个版本

git reset --hard head^ 
将file1.txt更改为第二次提交，顺便将工作区的文件进行了更新

git log
查看提交过程，目前只显示两次提交

git reflog 
查看所有提交历史，便于使用版本号进行reset

git reset --hard 1094 
将file1.txt更改为1094号提交，顺便将工作区的文件进行了更新
~~~

* 撤销修改

~~~
git reset HEAD readme.txt
如果file1.txt已经添加到暂存区，现在撤销暂存区的修改
~~~

~~~
git checkout -- file1.txt
如果文件修改出问题，用版本库，即暂存区或者分支上的版本替换工作区的版本
(撤销file1.txt在工作区的修改)
~~~

* 文件删除

~~~
先将工作区的file2.txt删除
git rm file2.txt 将版本库中的文件删除
git commit -m "udpate"
~~~

~~~
git checkout -- file2.txt
如果文件删错了，用版本库中的文件替换工作区
~~~

关联远程仓库
~~~
git remote add origin git@github.com:beichen1994/Repo.git

git push -u origin master

git clone git@github.com:beichen1994/gitskills.git
克隆到本地库
~~~


使用git提交的时候出现The file will have its original line endings in your working directory.错误

1 git rm -r -f --cached ./ (删除缓存)
2 git add . （添加该目录下所有文件）
3 git push -u origin master （这时候提交就没问题了）

* 分支管理

~~~
git branch dev
创建dev分支

git checkout dev
然后切换到dev分支

git branch
查看所有分支

修改file1.txt
 
git add file1.txt

git commit -m "update"

git checkout master
切换回master分支，发现file1.txt中的修改不见了

git merge dev
合并dev分支到当前分支 (master)

git branch -d dev
删除dev分支
~~~

* 解决冲突

~~~
git branch feature1

git checkout feature1

继续修改file1.txt

git add file1.txt
git commit -m "update"
在feature1分支上提交修改


git checkout master
切换到master分支

继续修改file1.txt

git add file1.txt
git commit -m "update"
在master分支上提交

git merge feature1
两个分支上的file1.txt出现冲突

将master分支上的file1.txt文件修改一下

git add file1.txt
git commit -m "update"
在master分支上继续提交

git branch -d feature1
删除feature1分支
~~~
整个过程如下所示
![JfyUgS.png](https://s1.ax1x.com/2020/04/27/JfyUgS.png)
![JfyN38.png](https://s1.ax1x.com/2020/04/27/JfyN38.png)
![Jfyt9f.png](https://s1.ax1x.com/2020/04/27/Jfyt9f.png)
![JfylBd.png](https://s1.ax1x.com/2020/04/27/JfylBd.png)
![Jfy1HA.png](https://s1.ax1x.com/2020/04/27/Jfy1HA.png)
![Jfy8AI.png](https://s1.ax1x.com/2020/04/27/Jfy8AI.png)
![JfyGNt.png](https://s1.ax1x.com/2020/04/27/JfyGNt.png)
![JfyJ4P.png](https://s1.ax1x.com/2020/04/27/JfyJ4P.png)